# X3DNA JSON Comparison Configuration
# This file controls which comparisons are performed when comparing legacy and modern JSON outputs.

# Comparison types to enable/disable
comparisons:
  atoms: false              # Compare pdb_atoms records (atom-by-atom comparison)
  frames: true              # Compare frame calculations (base_frame_calc, frame_calc, ls_fitting)
  steps: true               # Compare step parameters (bpstep_params, helical_params)
  pairs: true               # Compare pair records (pair_validation, distance_checks, base_pair, find_bestpair_selection)
  hbond_list: true          # Compare hbond_list records (hydrogen bond details for base pairs)
  residue_indices: true     # Compare residue_indices records (residue-to-atom mappings)

# Floating point comparison tolerance
# Note: 1e-4 is used to account for normal FP variations in trigonometric calculations
# (differences < 1e-4 are FP noise; differences > 1e-4 indicate algorithmic issues)
tolerance: 1.0e-4

# H-bond comparison options
hbond_options:
  # Skip num_hbonds count comparison (modern finds fewer H-bonds due to stricter criteria)
  # Set to true to only check pair existence, not H-bond counts
  # TODO: Improve H-bond detection algorithm in future versions
  ignore_count_mismatch: true

